<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>少量组件应用方案 | Curly的Blog</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="/blog/favicon.png">
    <meta name="description" content="记录探索历程">
    <link rel="preload" href="/blog/assets/css/0.styles.7547a464.css" as="style"><link rel="preload" href="/blog/assets/js/app.6c9eafaa.js" as="script"><link rel="preload" href="/blog/assets/js/3.b81daf6b.js" as="script"><link rel="preload" href="/blog/assets/js/36.59ce3199.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.5a2dae77.js"><link rel="prefetch" href="/blog/assets/js/11.825aef3e.js"><link rel="prefetch" href="/blog/assets/js/12.586e5d61.js"><link rel="prefetch" href="/blog/assets/js/13.1587866c.js"><link rel="prefetch" href="/blog/assets/js/14.55e744c7.js"><link rel="prefetch" href="/blog/assets/js/15.60b76881.js"><link rel="prefetch" href="/blog/assets/js/16.1713f0a2.js"><link rel="prefetch" href="/blog/assets/js/17.a3c8af77.js"><link rel="prefetch" href="/blog/assets/js/18.faa9be75.js"><link rel="prefetch" href="/blog/assets/js/19.68b8eef6.js"><link rel="prefetch" href="/blog/assets/js/20.affdb93d.js"><link rel="prefetch" href="/blog/assets/js/21.e347722b.js"><link rel="prefetch" href="/blog/assets/js/22.2edc6571.js"><link rel="prefetch" href="/blog/assets/js/23.0cf5b6bb.js"><link rel="prefetch" href="/blog/assets/js/24.01378952.js"><link rel="prefetch" href="/blog/assets/js/25.1b83d16c.js"><link rel="prefetch" href="/blog/assets/js/26.71158d2f.js"><link rel="prefetch" href="/blog/assets/js/27.93c1cd11.js"><link rel="prefetch" href="/blog/assets/js/28.748129fb.js"><link rel="prefetch" href="/blog/assets/js/29.19ad1ad5.js"><link rel="prefetch" href="/blog/assets/js/30.689e649e.js"><link rel="prefetch" href="/blog/assets/js/31.2cc3e303.js"><link rel="prefetch" href="/blog/assets/js/32.3ac60330.js"><link rel="prefetch" href="/blog/assets/js/33.59308aaa.js"><link rel="prefetch" href="/blog/assets/js/34.52a1bbc4.js"><link rel="prefetch" href="/blog/assets/js/35.5e0adb3f.js"><link rel="prefetch" href="/blog/assets/js/37.6e3671e2.js"><link rel="prefetch" href="/blog/assets/js/38.30d8ab87.js"><link rel="prefetch" href="/blog/assets/js/39.6997b558.js"><link rel="prefetch" href="/blog/assets/js/4.d3af607c.js"><link rel="prefetch" href="/blog/assets/js/40.e040f349.js"><link rel="prefetch" href="/blog/assets/js/41.9e282256.js"><link rel="prefetch" href="/blog/assets/js/42.eae2fd04.js"><link rel="prefetch" href="/blog/assets/js/43.6bd987f1.js"><link rel="prefetch" href="/blog/assets/js/44.53227692.js"><link rel="prefetch" href="/blog/assets/js/45.334831fd.js"><link rel="prefetch" href="/blog/assets/js/46.e99e8bad.js"><link rel="prefetch" href="/blog/assets/js/5.50cfb2f9.js"><link rel="prefetch" href="/blog/assets/js/6.1e3a01c7.js"><link rel="prefetch" href="/blog/assets/js/7.9ef36258.js"><link rel="prefetch" href="/blog/assets/js/8.9400251e.js"><link rel="prefetch" href="/blog/assets/js/9.ec663ceb.js"><link rel="prefetch" href="/blog/assets/js/vendors~flowchart.68f19138.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.7547a464.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Curly的Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/f2e/" class="nav-link">
  前端技术
</a></div><div class="nav-item"><a href="/blog/algo/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/blog/explore/" class="nav-link">
  探索
</a></div><div class="nav-item"><a href="https://github.com/curlywater" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/f2e/" class="nav-link">
  前端技术
</a></div><div class="nav-item"><a href="/blog/algo/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/blog/explore/" class="nav-link">
  探索
</a></div><div class="nav-item"><a href="https://github.com/curlywater" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/f2e/" class="sidebar-link">目录</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>React</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/f2e/react/react-document/" class="sidebar-link">React知识体系</a></li><li><a href="/blog/f2e/react/react-component-lifecycle/" class="sidebar-link">React组件的生命周期</a></li><li><a href="/blog/前端技术/React/少量组件应用方案.html" class="active sidebar-link">少量组件应用方案</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/前端技术/React/少量组件应用方案.html#ant-design" class="sidebar-link">Ant.Design</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/前端技术/React/少量组件应用方案.html#问题分析" class="sidebar-link">问题分析</a></li><li class="sidebar-sub-header"><a href="/blog/前端技术/React/少量组件应用方案.html#全局样式污染解决方案" class="sidebar-link">全局样式污染解决方案</a></li><li class="sidebar-sub-header"><a href="/blog/前端技术/React/少量组件应用方案.html#样式全量加载解决方案" class="sidebar-link">样式全量加载解决方案</a></li><li class="sidebar-sub-header"><a href="/blog/前端技术/React/少量组件应用方案.html#总结" class="sidebar-link">总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/前端技术/React/少量组件应用方案.html#material-ui" class="sidebar-link">Material-UI</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/前端技术/React/少量组件应用方案.html#全局样式" class="sidebar-link">全局样式</a></li><li class="sidebar-sub-header"><a href="/blog/前端技术/React/少量组件应用方案.html#组件样式" class="sidebar-link">组件样式</a></li><li class="sidebar-sub-header"><a href="/blog/前端技术/React/少量组件应用方案.html#总结-2" class="sidebar-link">总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/前端技术/React/少量组件应用方案.html#自行重写" class="sidebar-link">自行重写</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>源码解读</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>项目记录</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="少量组件应用方案"><a href="#少量组件应用方案" class="header-anchor">#</a> 少量组件应用方案</h1> <p>项目中只有两三个通用组件，适合使用什么方案？Ant.Design？Material-UI？还是自行重写？</p> <h2 id="ant-design"><a href="#ant-design" class="header-anchor">#</a> Ant.Design</h2> <p>首先考虑的方案还是 Ant.Design。然而问题在于：</p> <ul><li>全局样式污染</li> <li>全量加载所有组件样式</li></ul> <h3 id="问题分析"><a href="#问题分析" class="header-anchor">#</a> 问题分析</h3> <p>Ant.Design 的样式由两部分组成（这里以 compile 后的生成文件<code>~antd/dist/antd.less</code>说明）：</p> <ul><li><code>~antd/lib/style/index.less</code> - 核心和主题
<ul><li><code>~antd/lib/style/theme/index.less</code> - 默认主题样式</li> <li><code>~antd/lib/style/core/index.less</code> - 核心样式
<ul><li>mixins</li> <li>base - antd 相关的全局配置，特征为以<code>antd-</code>作为样式 class 前缀</li> <li>global - Normalize，<strong>⚠️global.less 文件在 ant.design4.4.1 版本引入，替代原 base.less</strong></li> <li>iconfont - 定义 icon 相关的基础样式</li> <li>motion - 所有动画</li></ul></li></ul></li> <li><code>~antd/lib/style/components.less</code> - 所有组件的样式</li></ul> <p>由样式文件组成分析可知全局样式污染的源头在<code>global.less</code>。</p> <h3 id="全局样式污染解决方案"><a href="#全局样式污染解决方案" class="header-anchor">#</a> 全局样式污染解决方案</h3> <h4 id="方案一：整体-prefixwrap"><a href="#方案一：整体-prefixwrap" class="header-anchor">#</a> 方案一：整体 prefixWrap</h4> <p>由<a href="https://ant.design/docs/react/customize-theme#How-to-avoid-modifying-global-styles?" target="_blank" rel="noopener noreferrer">官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>提供的解决方案——<code>prefixWrap</code>，有两种实现途径：</p> <ul><li><p>通过<code>webpack.NormalModuleReplacementPlugin</code>将<code>~antd/lib/style/index.less</code>替换为我们项目中自定义的样式文件，在自定义样式文件中对核心样式和主题样式的引用外包裹<code>#antd</code>选择器</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">new</span> <span class="token class-name">webpack</span><span class="token punctuation">.</span><span class="token function">NormalModuleReplacementPlugin</span><span class="token punctuation">(</span>
  <span class="token regex">/node_modules\/antd\/lib\/style\/index\.less/</span><span class="token punctuation">,</span>
  path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>rootDir<span class="token punctuation">,</span> <span class="token string">&quot;src/myStylesReplacement.less&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-less line-numbers-mode"><pre class="language-less"><code><span class="token comment">// src/myStylesReplacement.less</span>
<span class="token selector">#antd</span> <span class="token punctuation">{</span>
  <span class="token variable">@import</span> <span class="token string">&quot;~antd/lib/style/core/index.less&quot;</span><span class="token punctuation">;</span>
  <span class="token variable">@import</span> <span class="token string">&quot;~antd/lib/style/themes/default.less&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>也可以通过在 webpack 中增加<a href="https://gist.github.com/sbusch/a90eafaf5a5b61c6d6172da6ff76ddaa" target="_blank" rel="noopener noreferrer">postcss-prefixwrap<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>插件来实现</p></li></ul> <h5 id="缺陷："><a href="#缺陷：" class="header-anchor">#</a> 缺陷：</h5> <ol><li>必须在组件外再加一层 Wrap 元素，在使用过程中比较别扭。</li></ol> <h4 id="方案二：替换global-less"><a href="#方案二：替换global-less" class="header-anchor">#</a> 方案二：替换<code>global.less</code></h4> <p>可通过<code>webpack.NormalModuleReplacementPlugin</code>替换<code>~antd/lib/style/core/global.less</code>为自定义样式文件</p> <p>项目中引入<code>~antd/dist/antd.less</code></p> <p>自定义样式文件可采用 wrap 方式实现</p> <div class="language-less line-numbers-mode"><pre class="language-less"><code><span class="token comment">// antd-global.less</span>
<span class="token selector">.antdContainer</span> <span class="token punctuation">{</span>
  <span class="token comment">// 这是因为默认样式里，默认文字是放在 body 下的，会导致放在挂载点后不起效</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token variable">@font-family</span><span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token variable">@font-size-base</span><span class="token punctuation">;</span>
  <span class="token property">font-variant</span><span class="token punctuation">:</span> tabular<span class="token operator">-</span>nums<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token variable">@line-height-base</span><span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">@text-color</span><span class="token punctuation">;</span>

  <span class="token selector">:global</span> <span class="token punctuation">{</span>
    <span class="token variable">@import</span> <span class="token string">&quot;~antd/lib/style/core/global.less&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>方案及代码来源：<a href="https://zhuanlan.zhihu.com/p/50796186" target="_blank" rel="noopener noreferrer">“优雅”的解决 Ant Design 全局样式问题<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>在这篇文章中还提出结合 CSS Module 解决“如何复用挂载点”和“挂载在 body 上的组件样式应用”的问题，感兴趣请戳链接。</p> <h5 id="缺陷：-2"><a href="#缺陷：-2" class="header-anchor">#</a> 缺陷：</h5> <ol><li>必须在组件外再加一层 Wrap 元素，在使用过程中比较别扭。</li> <li>wrap 全局样式的行为致使全局样式权重变高，影响组件样式展现</li></ol> <h4 id="方案三：-class-ant"><a href="#方案三：-class-ant" class="header-anchor">#</a> 方案三：<code>*[class*='ant-']</code></h4> <p>前面两种方案都必须在组件外再加一层 Wrap 元素，在正常使用过程中其实比较别扭。</p> <p>文章<a href="https://juejin.im/post/5e8b17e2f265da47f406e11d" target="_blank" rel="noopener noreferrer">如何优雅地彻底解决 antd 全局样式问题<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>提出 wrap 全局样式的行为致使全局样式权重变高，高过组件内样式，影响到组件正常展现。于是：</p> <ul><li>全局样式使用<code>*[class*='ant-']</code>包裹</li> <li>Ant Design 组件可根据 class 拥有<code>ant-</code>前缀的特征识别到，增加同级<code>*[class*='ant-']</code>选择器以提高优先级。具体实现方式可参见作者原文<a href="https://juejin.im/post/5e8b17e2f265da47f406e11d#heading-6" target="_blank" rel="noopener noreferrer">方式 1：删除 base.less 一把梭<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>缺陷：</p> <div class="language-less line-numbers-mode"><pre class="language-less"><code><span class="token selector">*[class*=&quot;ant-&quot;]</span> <span class="token punctuation">{</span>
  <span class="token variable">@import</span> <span class="token string">&quot;~antd/lib/style/core/global.less&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>全局样式并非应用在<code>ant-</code>元素上，会存在两个问题：</p> <ol><li><code>html/body</code>上的相关设置无法直接应用到 Ant Design 组件上</li> <li>组件单独使用时无法应用全局样式</li></ol> <p>解决思路：对<code>global.less</code>追加额外处理，<code>html/body</code>部分的定义需要直接作用到<code>*[class*=&quot;ant-&quot;]</code>下，其他选择器的定义应该追加同级<code>*[class*='ant-']</code>选择器。</p> <h3 id="样式全量加载解决方案"><a href="#样式全量加载解决方案" class="header-anchor">#</a> 样式全量加载解决方案</h3> <p>使用<a href="https://www.npmjs.com/package/babel-plugin-import" target="_blank" rel="noopener noreferrer">babel-plugin-import<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>按需导入样式模块。</p> <p>配置.babelrc 或者 babel-loader</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">'import'</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        libraryName<span class="token operator">:</span> <span class="token string">'antd'</span><span class="token punctuation">,</span>
        style<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
	  <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <p>Ant Design 本身的出发点在为企业级产品提供全套设计体系，全局样式涉及字体、行高等等，这些都是设计体系中非常重要的基础结构，默认设定合乎情理。在倾向使用 Ant Design 的情况下，可结合上述方案达成局部应用。</p> <h2 id="material-ui"><a href="#material-ui" class="header-anchor">#</a> Material-UI</h2> <p>Material-UI 得益于组件内定义样式，不会产生全局污染问题，然而 Material-UI 的设计风格非常鲜明，需要做自定义样式修改，所幸 Material-UI 对自定义样式的支持全面且简单。</p> <h3 id="全局样式"><a href="#全局样式" class="header-anchor">#</a> 全局样式</h3> <p>Material-UI 的默认主题涉及颜色、排版（字体大小/行高）等等，自定义主题只需通过<code>createMuiTheme</code>创建一个<code>theme object</code>传递给<code>ThemeProvider</code>即可。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> theme <span class="token operator">=</span> <span class="token function">createMuiTheme</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  typography<span class="token operator">:</span> <span class="token punctuation">{</span>
    fontFamily<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'-apple-system'</span><span class="token punctuation">,</span>
      <span class="token string">'BlinkMacSystemFont'</span><span class="token punctuation">,</span>
      <span class="token string">'&quot;Segoe UI&quot;'</span><span class="token punctuation">,</span>
      <span class="token string">'Roboto'</span><span class="token punctuation">,</span>
      <span class="token string">'&quot;Helvetica Neue&quot;'</span><span class="token punctuation">,</span>
      <span class="token string">'Arial'</span><span class="token punctuation">,</span>
      <span class="token string">'sans-serif'</span><span class="token punctuation">,</span>
      <span class="token string">'&quot;Apple Color Emoji&quot;'</span><span class="token punctuation">,</span>
      <span class="token string">'&quot;Segoe UI Emoji&quot;'</span><span class="token punctuation">,</span>
      <span class="token string">'&quot;Segoe UI Symbol&quot;'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    fontSize<span class="token operator">:</span> <span class="token number">12</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  palette<span class="token operator">:</span> <span class="token punctuation">{</span>
    primary<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// light: will be calculated from palette.primary.main,</span>
      main<span class="token operator">:</span> <span class="token string">'#ff4400'</span><span class="token punctuation">,</span>
      <span class="token comment">// dark: will be calculated from palette.primary.main,</span>
      <span class="token comment">// contrastText: will be calculated to contrast with palette.primary.main</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    secondary<span class="token operator">:</span> <span class="token punctuation">{</span>
      light<span class="token operator">:</span> <span class="token string">'#0066ff'</span><span class="token punctuation">,</span>
      main<span class="token operator">:</span> <span class="token string">'#0044ff'</span><span class="token punctuation">,</span>
      <span class="token comment">// dark: will be calculated from palette.secondary.main,</span>
      contrastText<span class="token operator">:</span> <span class="token string">'#ffcc00'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">function</span> <span class="token function">Layout</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>children<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>ThemeProvider theme<span class="token operator">=</span><span class="token punctuation">{</span>theme<span class="token punctuation">}</span><span class="token operator">&gt;</span>
    		<span class="token operator">&lt;</span>main<span class="token operator">&gt;</span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeProvider<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h3 id="组件样式"><a href="#组件样式" class="header-anchor">#</a> 组件样式</h3> <p>对于组件根部的样式定制，直接通过<code>className</code>属性设置，或者通过<code>style</code>追加内联样式。</p> <p>对于组件深层组成部分的样式定制，每一个组件都暴露出起特定的 CSS API 对应可自定义部分，供开发者重写。同时，组件上提供<code>classes</code>属性作为接口。</p> <p>组件样式的静态和动态使用方法可参见<a href="https://material-ui.com/zh/customization/components/" target="_blank" rel="noopener noreferrer">官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="总结-2"><a href="#总结-2" class="header-anchor">#</a> 总结</h3> <p>Material-UI 的定位在于提供便捷可用的 React 组件，同时提供 Material Design 设计体系但开放灵活定制设计体系的能力。局部和整体兼顾，对于使用少量组件的场景来说，也是合适的。</p> <h2 id="自行重写"><a href="#自行重写" class="header-anchor">#</a> 自行重写</h2> <p>如果是一个无需频繁维护的静态站点，只包含少数简单组件，不需要那么复杂的接口，痛痛快快造轮子或许是最直接的方式。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2020年8月24日 13:51</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/f2e/react/react-component-lifecycle/" class="prev">
        React组件的生命周期
      </a></span> <span class="next"><a href="/blog/f2e/typescript/vscode/">
        在 VS Code 中使用 TypeScript
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.6c9eafaa.js" defer></script><script src="/blog/assets/js/3.b81daf6b.js" defer></script><script src="/blog/assets/js/36.59ce3199.js" defer></script>
  </body>
</html>
