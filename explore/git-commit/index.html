<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>如何规范Git Commit Message | Curly的Blog</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="/blog/favicon.png">
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?bee8141d3226bf8abf76962d6e22700f";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
    <meta name="description" content="记录探索历程">
    <link rel="preload" href="/blog/assets/css/0.styles.5563ef6a.css" as="style"><link rel="preload" href="/blog/assets/js/app.0e254ce2.js" as="script"><link rel="preload" href="/blog/assets/js/3.ce09a418.js" as="script"><link rel="preload" href="/blog/assets/js/51.2f51fdf2.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.000c3a5a.js"><link rel="prefetch" href="/blog/assets/js/11.23cac595.js"><link rel="prefetch" href="/blog/assets/js/12.459bc8a4.js"><link rel="prefetch" href="/blog/assets/js/13.8452325d.js"><link rel="prefetch" href="/blog/assets/js/14.da7da709.js"><link rel="prefetch" href="/blog/assets/js/15.575f202a.js"><link rel="prefetch" href="/blog/assets/js/16.cccaed16.js"><link rel="prefetch" href="/blog/assets/js/17.f8164258.js"><link rel="prefetch" href="/blog/assets/js/18.43ebccc3.js"><link rel="prefetch" href="/blog/assets/js/19.3eace7bd.js"><link rel="prefetch" href="/blog/assets/js/20.19941b97.js"><link rel="prefetch" href="/blog/assets/js/21.ea82998b.js"><link rel="prefetch" href="/blog/assets/js/22.8e4a4dcf.js"><link rel="prefetch" href="/blog/assets/js/23.6c824cc8.js"><link rel="prefetch" href="/blog/assets/js/24.44726bc0.js"><link rel="prefetch" href="/blog/assets/js/25.9e53a540.js"><link rel="prefetch" href="/blog/assets/js/26.8b48df03.js"><link rel="prefetch" href="/blog/assets/js/27.fdbf6a61.js"><link rel="prefetch" href="/blog/assets/js/28.4f51147e.js"><link rel="prefetch" href="/blog/assets/js/29.6b40e241.js"><link rel="prefetch" href="/blog/assets/js/30.b74fb900.js"><link rel="prefetch" href="/blog/assets/js/31.6cf0c320.js"><link rel="prefetch" href="/blog/assets/js/32.839d367e.js"><link rel="prefetch" href="/blog/assets/js/33.b4454420.js"><link rel="prefetch" href="/blog/assets/js/34.ad790a2f.js"><link rel="prefetch" href="/blog/assets/js/35.f838384b.js"><link rel="prefetch" href="/blog/assets/js/36.4e3750d2.js"><link rel="prefetch" href="/blog/assets/js/37.c22b2402.js"><link rel="prefetch" href="/blog/assets/js/38.a7a25ed2.js"><link rel="prefetch" href="/blog/assets/js/39.43f83f6e.js"><link rel="prefetch" href="/blog/assets/js/4.5a09cc32.js"><link rel="prefetch" href="/blog/assets/js/40.4f2875d3.js"><link rel="prefetch" href="/blog/assets/js/41.09fe9516.js"><link rel="prefetch" href="/blog/assets/js/42.0a6e916c.js"><link rel="prefetch" href="/blog/assets/js/43.ddaf5642.js"><link rel="prefetch" href="/blog/assets/js/44.e5199151.js"><link rel="prefetch" href="/blog/assets/js/45.bca4d4ee.js"><link rel="prefetch" href="/blog/assets/js/46.153a2ad5.js"><link rel="prefetch" href="/blog/assets/js/47.667eef97.js"><link rel="prefetch" href="/blog/assets/js/48.21d035d5.js"><link rel="prefetch" href="/blog/assets/js/49.1f473d9c.js"><link rel="prefetch" href="/blog/assets/js/5.9ffc748a.js"><link rel="prefetch" href="/blog/assets/js/50.2d16cb13.js"><link rel="prefetch" href="/blog/assets/js/52.11f10dae.js"><link rel="prefetch" href="/blog/assets/js/53.b5b402fc.js"><link rel="prefetch" href="/blog/assets/js/54.da812bb2.js"><link rel="prefetch" href="/blog/assets/js/55.6feb39e1.js"><link rel="prefetch" href="/blog/assets/js/56.c7650ecc.js"><link rel="prefetch" href="/blog/assets/js/57.0696bf27.js"><link rel="prefetch" href="/blog/assets/js/58.d6568e96.js"><link rel="prefetch" href="/blog/assets/js/59.68bfe19b.js"><link rel="prefetch" href="/blog/assets/js/6.25303515.js"><link rel="prefetch" href="/blog/assets/js/60.0fc1c8a7.js"><link rel="prefetch" href="/blog/assets/js/61.8ab388f3.js"><link rel="prefetch" href="/blog/assets/js/7.8ca2edb7.js"><link rel="prefetch" href="/blog/assets/js/8.81302d40.js"><link rel="prefetch" href="/blog/assets/js/9.48ece269.js"><link rel="prefetch" href="/blog/assets/js/vendors~flowchart.6dfce6e9.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.5563ef6a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Curly的Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/f2e/" class="nav-link">
  前端技术
</a></div><div class="nav-item"><a href="/blog/algo/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/blog/explore/" class="nav-link router-link-active">
  探索
</a></div><div class="nav-item"><a href="https://github.com/curlywater" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/f2e/" class="nav-link">
  前端技术
</a></div><div class="nav-item"><a href="/blog/algo/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/blog/explore/" class="nav-link router-link-active">
  探索
</a></div><div class="nav-item"><a href="https://github.com/curlywater" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/explore/" aria-current="page" class="sidebar-link">目录</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Git</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/explore/git-commit/" aria-current="page" class="active sidebar-link">如何规范Git Commit Message</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/explore/git-commit/#angular-规范" class="sidebar-link">Angular 规范</a></li><li class="sidebar-sub-header"><a href="/blog/explore/git-commit/#conventional-commits-规范" class="sidebar-link">conventional commits 规范</a></li><li class="sidebar-sub-header"><a href="/blog/explore/git-commit/#commitizen-cz-cli" class="sidebar-link">commitizen/cz-cli</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/explore/git-commit/#安装方式" class="sidebar-link">安装方式</a></li><li class="sidebar-sub-header"><a href="/blog/explore/git-commit/#配置commit规范" class="sidebar-link">配置commit规范</a></li><li class="sidebar-sub-header"><a href="/blog/explore/git-commit/#自定adapter" class="sidebar-link">自定Adapter</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/explore/git-commit/#commitlint" class="sidebar-link">commitlint</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/explore/git-commit/#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/blog/explore/git-commit/#配置" class="sidebar-link">配置</a></li><li class="sidebar-sub-header"><a href="/blog/explore/git-commit/#在-git-hook-中调用-commitlint" class="sidebar-link">在 git hook 中调用 commitlint</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/explore/git-commit/#参考文章" class="sidebar-link">参考文章</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>收藏夹</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="如何规范git-commit-message"><a href="#如何规范git-commit-message" class="header-anchor">#</a> 如何规范Git Commit Message</h1> <p>在Angular的规范基础上衍生出 conventional commits，搭配辅助工具commitizen/cz-cli 和 commitlint 落地。</p> <h2 id="angular-规范"><a href="#angular-规范" class="header-anchor">#</a> Angular 规范</h2> <p>Commit Message 的规范格式</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token operator">&lt;</span>type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>scope<span class="token operator">&gt;</span><span class="token punctuation">)</span>: <span class="token operator">&lt;</span>subject<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>BLANK LINE<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>BLANK LINE<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>footer<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>type：指明修改类型</strong></p> <ul><li>feat：新功能</li> <li>fix：修复一个bug</li> <li>docs：只修改了文档</li> <li>style：与代码逻辑无关，代码格式化相关的修改</li> <li>refactor：代码重构（不是修复bug，也不是增加新功能）</li> <li>perf：性能优化</li> <li>test：补充或救治测试用例</li> <li>chore：更改构建过程或辅助工具和库</li> <li>revert： Git 回滚信息。例如：<code>revert: This reverts commit &lt;hash&gt;</code></li></ul> <p><strong>scope：附加信息，指明修改所属的范围</strong></p> <ul><li>例如：<code>feat(parser): add ability to parse arrays</code></li> <li>当影响范围超过一个时，可以使用<code>*</code>填充</li></ul> <p><strong>subject：主题，简单描述变更</strong></p> <ul><li>使用现在时的动词</li> <li>不要大写第一个字母</li> <li>不以.号结尾</li></ul> <p><strong>body：主体，详细说明</strong></p> <ul><li>修改动机</li> <li>和前一版本的区别</li></ul> <p><strong>footer：脚注</strong></p> <ul><li>备注Breaking  Changes信息
<code>BREAKING CHANGE: refactor to use JavaScript features not available in Node 6.</code></li> <li>备注<a href="https://docs.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue" target="_blank" rel="noopener noreferrer">github issue关联操作<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="conventional-commits-规范"><a href="#conventional-commits-规范" class="header-anchor">#</a> conventional commits 规范</h2> <p>规范格式</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token operator">&lt;</span>type<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">(</span>optional scope<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">[</span>optional <span class="token operator">!</span><span class="token punctuation">]</span>: <span class="token operator">&lt;</span>description<span class="token operator">&gt;</span>

<span class="token punctuation">[</span>optional body<span class="token punctuation">]</span>

<span class="token punctuation">[</span>optional footer<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>conventional commits 的规范内容大体上的Angular相差不大，附加说明的部分包括：</p> <ul><li>只规定<code>feat</code>和<code>fix</code>两个类型，其他扩展类型可自定义</li> <li>内容区和脚注可选填</li> <li>多行主体内容使用空白行间隔开</li> <li>通过可选的<code>!</code>表明该提交中有Breaking Change，若存在<code>!</code>，便可选择不使用<code>BREAKING CHANGE:</code>进行具体说明</li></ul> <p>可见<a href="https://www.conventionalcommits.org/en/v1.0.0/#examples" target="_blank" rel="noopener noreferrer">官方示例<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，直观了解。</p> <p>在 conventional commits 规范的基础上，通过一些辅助工具帮助开发者在实际项目中落地规范。以下介绍<code>commitizen/cz-cli</code>和<code>commitlint</code>，更多工具可见<a href="https://www.conventionalcommits.org/en/v1.0.0/#tooling-for-conventional-commits" target="_blank" rel="noopener noreferrer">工具列表<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <h2 id="commitizen-cz-cli"><a href="#commitizen-cz-cli" class="header-anchor">#</a> commitizen/cz-cli</h2> <blockquote><p>A Node.js tool to create commit messages following the Conventional Commits specs.</p></blockquote> <p><code>commitizen/cz-cli</code> 是一个引导开发者依照 conventional commit 规范填写git commit 的工具。</p> <p>具体的表现是附加一个<code>git cz</code>命令，通过该命令进入commit message 填写引导。</p> <h3 id="安装方式"><a href="#安装方式" class="header-anchor">#</a> 安装方式</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -g commitizen
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在项目中使用<code>git cz</code>、<code>cz</code>、<code>git-cz</code>命令召唤引导程序。</p> <h3 id="配置commit规范"><a href="#配置commit规范" class="header-anchor">#</a> 配置commit规范</h3> <p>例如使用Angular 规范，需要给commitizen 配上 <code>cz-conventional-changelog</code> adapter。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 使用npm</span>
commitizen init cz-conventional-changelog --save-dev --save-exact
<span class="token comment"># 使用yarn</span>
commitizen init cz-conventional-changelog --yarn --dev --exact
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>上述命令执行了三件事情：</p> <ol><li>安装<code>cz-conventional-changelog</code>到node_modules</li> <li>在package.json 文件中保存依赖</li> <li>在package.json 文件中配置<code>config.commitizen</code><div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;config&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;commitizen&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./node_modules/cz-conventional-changelog&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ol> <p>除了<a href="https://github.com/commitizen/cz-cli#adapters" target="_blank" rel="noopener noreferrer">推荐Adapter列表<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>以外，还可根据项目需求自定义Adapter</p> <h3 id="自定adapter"><a href="#自定adapter" class="header-anchor">#</a> 自定Adapter</h3> <p>应用<code>cz-customizable</code> adapter</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>commitizen init cz-customizable  --save-dev --save-exact
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在项目根目录下创建<code>.cz-config.js</code>文件，将<a href="https://raw.githubusercontent.com/leoforfree/cz-customizable/master/cz-config-EXAMPLE.js" target="_blank" rel="noopener noreferrer">模版示例<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>内容拷贝到<code>.cz-config.js</code>中。</p> <p><code>cz-customizable</code>配置文件的路径也可通过package.json 文件的<code>config.cz-customizable</code>字段自定义。</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;config&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;commitizen&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// not needed for standlone usage</span>
    <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node_modules/cz-customizable&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cz-customizable&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;config&quot;</span><span class="token operator">:</span> <span class="token string">&quot;config/path/to/my/config.js&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="commitlint"><a href="#commitlint" class="header-anchor">#</a> commitlint</h2> <blockquote><p>A linter to check that your commit messages meet the Conventional Commits format.</p></blockquote> <p>一个校验工具，校验准备提交的commit message 是否符合规范。</p> <h3 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev @commitlint/cli
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="配置"><a href="#配置" class="header-anchor">#</a> 配置</h3> <p>在commitlint.config.js 文件中配置commitlint 的校验规则，其中</p> <ul><li><code>extends</code>，指定校验规则基于的规范，规范通过共享配置文件的形式定义，<a href="https://github.com/conventional-changelog/commitlint#shared-configuration" target="_blank" rel="noopener noreferrer">可用的共享配置文件<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>rules</code>，在规范之上做一些自定义规则设定，<a href="https://commitlint.js.org/#/reference-rules" target="_blank" rel="noopener noreferrer">可配置字段列表<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>如果规范基于conventional commits，需要载入<code>@commitlint/config-conventional</code>共享配置文件</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @commitlint/config-conventional --save-dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// commitlint.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@commitlint/config-conventional&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果使用cz-customizable 配置了自定义规范，需要搭配<code>commitlint-config-cz</code>共享配置文件使用</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> commitlint-config-cz --save-dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// commitlint.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;cz&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="在-git-hook-中调用-commitlint"><a href="#在-git-hook-中调用-commitlint" class="header-anchor">#</a> 在 git hook 中调用 commitlint</h3> <p>安装 husky</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev husky
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>配置<code>husky.hooks</code></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;husky&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;hooks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;commit-msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commitlint -E HUSKY_GIT_PARAMS&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="参考文章"><a href="#参考文章" class="header-anchor">#</a> 参考文章</h2> <p><a href="https://juejin.im/post/6844903606815064077" target="_blank" rel="noopener noreferrer">优雅的提交你的 Git Commit Message<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#-git-commit-guidelines" target="_blank" rel="noopener noreferrer">Angular Git Commit Guidelines<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://www.conventionalcommits.org/en/v1.0.0/#tooling-for-conventional-commits" target="_blank" rel="noopener noreferrer">Conventional Commits<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://github.com/commitizen/cz-cli" target="_blank" rel="noopener noreferrer">commitizen/cz-cli<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://commitlint.js.org/#/guides-local-setup?id=install-husky" target="_blank" rel="noopener noreferrer">commitlint local setup<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://www.npmjs.com/package/commitlint-config-cz" target="_blank" rel="noopener noreferrer">commitlint-config-cz<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2020年9月4日 04:41</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/explore/" class="prev router-link-active">
        目录
      </a></span> <span class="next"><a href="/blog/explore/develop-tools/">
        好用的开发工具
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.0e254ce2.js" defer></script><script src="/blog/assets/js/3.ce09a418.js" defer></script><script src="/blog/assets/js/51.2f51fdf2.js" defer></script>
  </body>
</html>
