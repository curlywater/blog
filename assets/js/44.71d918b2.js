(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{435:function(t,s,a){"use strict";a.r(s);var n=a(18),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"探索-typography-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#探索-typography-js"}},[t._v("#")]),t._v(" 探索 Typography.js")]),t._v(" "),a("p",[t._v("起源是想为个人博客定制一个不错的文章排版，然而没有找到相关的工具，以此为契机接触到 Typography.js。")]),t._v(" "),a("p",[t._v("根据"),a("a",{attrs:{href:"http://kyleamathews.github.io/typography.js/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Typography.js 官网"),a("OutboundLink")],1),t._v("的介绍，排版系统比较复杂，不同元素上的样式需要互相协调。更改某一元素样式，往往需要把其他元素样式也做修改。而 Typography.js 提供接口供开发者配置，自动生成各种元素的样式，同时保证元素整体协调展现。")]),t._v(" "),a("p",[t._v("出于对排版系统生成逻辑的好奇，研究了 Typography.js 的源码。")]),t._v(" "),a("p",[t._v("通过对Typography.js的研究接触到文章排版设计思想——Vertical Rhythm。")]),t._v(" "),a("p",[t._v("文章涉及Lerna模块管理工具简介、Vertical Rhythm介绍、Typography.js使用介绍。")]),t._v(" "),a("h2",{attrs:{id:"lerna"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lerna"}},[t._v("#")]),t._v(" Lerna")]),t._v(" "),a("p",[t._v("Typegraphy.js 项目通过 monorepo 做代码管理。")]),t._v(" "),a("p",[t._v("monorepo 即把所有相关的模块放在一个 repo 中的代码管理方式，单个模块可以作为 package 独立发布，其优点在于：")]),t._v(" "),a("ul",[a("li",[t._v("统一构建工具、规则约束、测试方法")]),t._v(" "),a("li",[t._v("解决依赖包冗余、版本不一致的问题")]),t._v(" "),a("li",[t._v("方便模块间互相依赖管理")])]),t._v(" "),a("p",[t._v("Lerna 是实现 monorepo 的一种方式，即在一个仓库下管理多个模块的工具：管理包依赖，独立发布 package。")]),t._v(" "),a("p",[t._v("Lerna 的目录结构中，所有包放置在 packages 目录下。所有包独立发布。")]),t._v(" "),a("h2",{attrs:{id:"vertical-rhythm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vertical-rhythm"}},[t._v("#")]),t._v(" Vertical Rhythm")]),t._v(" "),a("p",[t._v("Vertical Rhythm（垂直的节奏），是一种排版设计思想：元素间的垂直间距保持等比例长度。")]),t._v(" "),a("p",[t._v("在 CSS 中的实现来说，设定一个基准数值（比如 24px），元素的行高和"),a("code",[t._v("margin")]),t._v("/"),a("code",[t._v("padding")]),t._v("设置为基准数值的整数倍，譬如（24px/36px/48px...）。类似于将页面划分为 24px 高的行，将内容放置好。有规律的重复性排版，能使页面看上去干净整齐。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://zellwk.com/images/2016/why-vertical-rhythm/separation-of-72px.png",alt:"img"}})]),t._v(" "),a("h3",{attrs:{id:"compass-vertical-rhythms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#compass-vertical-rhythms"}},[t._v("#")]),t._v(" Compass Vertical Rhythms")]),t._v(" "),a("p",[t._v("CSS 对 Vertical Rhythms 的实现中，font-size，line-height, margin-top/margin-bottom, padding-top/padding-bottom 是密切相关的。每一个"),a("code",[t._v("font-size")]),t._v("需要对应整数倍基准值的"),a("code",[t._v("line-height")]),t._v("，"),a("code",[t._v("margin/padding")]),t._v("也需要对应整数倍基准值的"),a("code",[t._v("line-height")]),t._v("。于是"),a("a",{attrs:{href:"http://compass-style.org/reference/compass/typography/vertical_rhythm/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Compass Vertical Rhythms"),a("OutboundLink")],1),t._v("提供了一组计算工具：")]),t._v(" "),a("ul",[a("li",[t._v("首先需要指定"),a("code",[t._v("baseFontSize")]),t._v("和"),a("code",[t._v("baseLineHeight")]),t._v("，长度单位为"),a("code",[t._v("rem/em")]),t._v("这类相对单位，需要依赖"),a("code",[t._v("baseFontSize")]),t._v("计算值；"),a("code",[t._v("baseLineHeight")]),t._v("则是作为基准值存在，当"),a("code",[t._v("baseLineHeight")]),t._v("为数值时也需要依赖"),a("code",[t._v("font-size")]),t._v("转换为绝对长度；实际上在代码内部也是通过"),a("code",[t._v("baseLineHeight")]),t._v("对应的绝对长度（"),a("code",[t._v("baseLineHeightInPx")]),t._v("）进行计算的。")]),t._v(" "),a("li",[a("code",[t._v("rhythm(lines, fontSize, offset)")]),t._v(" - 计算整数倍基准值的函数，可指定"),a("code",[t._v("fontSize")]),t._v("默认和"),a("code",[t._v("baseFontSize")]),t._v("相等；")]),t._v(" "),a("li",[a("code",[t._v("linesForFontSize(fontSize[, options={roundToNearestHalfLine: true}])")]),t._v(" - 计算"),a("code",[t._v("fontSize")]),t._v("对应的"),a("code",[t._v("lineHeight")]),t._v("；")]),t._v(" "),a("li",[a("code",[t._v("adjustFontSizeTo(toSize[, lines, fromSize])")]),t._v(" - 计算"),a("code",[t._v("fontSize")]),t._v("对应"),a("code",[t._v("lineHeight")]),t._v("，返回"),a("code",[t._v("fontSize")]),t._v("和"),a("code",[t._v("lineHeight")]),t._v("的 Mixin。")])]),t._v(" "),a("p",[t._v("在 typography 中，作者使用的是自己编写的"),a("a",{attrs:{href:"https://github.com/KyleAMathews/compass-vertical-rhythm",target:"_blank",rel:"noopener noreferrer"}},[t._v("compass-vertical-rhythm"),a("OutboundLink")],1),t._v("库，可以说是简化版")]),t._v(" "),a("h2",{attrs:{id:"typography-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#typography-js"}},[t._v("#")]),t._v(" typography.js")]),t._v(" "),a("p",[t._v("Typography.js 的 packages 目录下，typography 模块是主模块。")]),t._v(" "),a("h3",{attrs:{id:"defaultoptions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#defaultoptions"}},[t._v("#")]),t._v(" defaultOptions")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"baseFontSize"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"16px"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 基础font-size，以像素为单位")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"baseLineHeight"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.45")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 基础line-height，无单位数值")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"headerLineHeight"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 标题line-height")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scaleRatio"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// h1 font-size和baseFontSize之间的倍数差，baseFontSize = 16px, scaleRatio = 2, h1 fontSize = 32px")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"googleFonts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定需要从Google Font下载的字体资源")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"headerFontFamily"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 标题的font-family")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-apple-system"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BlinkMacSystemFont"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Segoe UI"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Roboto"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Oxygen"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Ubuntu"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Cantarell"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Fira Sans"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Droid Sans"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Helvetica Neue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sans-serif"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bodyFontFamily"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"georgia"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"serif"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 文本的font-family")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"headerColor"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inherit"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 标题字体颜色")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bodyColor"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hsla(0,0%,0%,0.8)"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 文本的字体颜色")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"headerWeight"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bold"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 标题字重")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bodyWeight"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"normal"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 文本字重")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"boldWeight"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bold"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// “bold” (b, strong, dt, th)元素的字重")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"includeNormalize"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否包含normalize.css")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"blockMarginBottom"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 块元素的margin-bottom，1 rhythm")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"rhythmUnit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rem"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 【文档中未列出的隐藏属性】长度单位，默认为"rem"，可用"px","em"替代')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br")])]),a("h3",{attrs:{id:"实例和用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例和用法"}},[t._v("#")]),t._v(" 实例和用法")]),t._v(" "),a("p",[t._v("Typegraphy 是一个构造函数，构造的实例对象包括以下属性/方法：")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\toptions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 传入的option")]),t._v("\n\tadjustFontSizeTo(toSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" lines"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fromSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(")"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回fontSize+lineHeight Mixin")]),t._v("\n\testablishBaseline()"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回baseFontSize和baseLineHeight")]),t._v("\n\tlinesForFontSize(fontSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options="),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("roundToNearestHalfLine"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(")"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 计算fontize对应的lineHeight")]),t._v("\n\trhythm(lines"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fontSize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" offset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(")"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 快速计算line-height的倍数值")]),t._v("\n\tscale(number)"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// (scaleRatio ** number) * baseFontSize，按值缩放，返回font-size+line-height Mixin，适合用于标题系列计算")]),t._v("\n\ttoJSON"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构建style map: {element: {prop1: value1, prop2：value2}}")]),t._v("\n\ttoString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据style map组装stylesStr")]),t._v("\n\tcreateStyles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 同toString，后续版本会被移除")]),t._v("\n\tinjectStyles"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将装有stylesStr的style元素插入文档或更新已有的style内容，style元素的id为typography.js。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("p",[t._v("使用示例：")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Typography "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"typography"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" typography "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Typography")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  baseFontSize"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"18px"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  baseLineHeight"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.45")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  headerFontFamily"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Avenir Next"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Helvetica Neue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Segoe UI"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Helvetica"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Arial"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sans-serif"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  bodyFontFamily"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Georgia"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"serif"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// See below for the full list of options.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Output CSS as string.")]),t._v("\ntypography"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Or insert styles directly into the <head> (works well for client-only")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// JS web apps.")]),t._v("\ntypography"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("injectStyles")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br")])]),a("h3",{attrs:{id:"主题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主题"}},[t._v("#")]),t._v(" 主题")]),t._v(" "),a("p",[t._v("Typography.js 已发布一些经典的主题，譬如 Github 主题、WordPress 主题，可在http://kyleamathews.github.io/typography.js/实时查看主题效果。【P.S.】Typography.js使用monorepo做代码管理，package下的每一个主题目录作为独立模块发布，按需安装导入即可。")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Typography "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"typography"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" funstonTheme "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"typography-theme-funston"')]),t._v("\nfunston"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("overrideThemeStyles")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" rhythm "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"h2,h3"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    marginBottom"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rhythm")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    marginTop"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rhythm")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" typography "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Typography")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("funstonTheme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("p",[t._v("当然从零定义一个新主题也并非难事，建议借鉴某个已发布主题的代码确定需要指定的样式，以及使用一篇涵盖常用语法的 Markdown 文章进行调试，我使用的是 Hello World: The remark Kitchen Sink"),a("a",{attrs:{href:"https://using-remark.gatsbyjs.org/hello-world-kitchen-sink/",target:"_blank",rel:"noopener noreferrer"}},[t._v("【预览效果】"),a("OutboundLink")],1),a("a",{attrs:{href:"https://raw.githubusercontent.com/gatsbyjs/gatsby/master/examples/using-remark/src/pages/2016-04-15---hello-world-kitchen-sink/index.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("【对应 Markdown 文件】"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/76349152",target:"_blank",rel:"noopener noreferrer"}},[t._v("基于 Lerna 管理 packages 的 Monorepo 项目最佳实践"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://zellwk.com/blog/why-vertical-rhythms/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Why is Vertical Rhythm an Important Typography Practice?"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://zellwk.com/blog/compass-vertical-rhythm/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Compass Vertical Rhythms"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);